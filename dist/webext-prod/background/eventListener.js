(()=>{let e,o;function t({front:e,back:o,deckName:t}){return{note:{deckName:t,modelName:"Basic",fields:{Front:e,Back:o},options:{allowDuplicate:!1,duplicateScope:"deck",duplicateScopeOptions:{deckName:null,checkChildren:!1,checkAllModels:!1}},tags:[]}}}function n(o){return function(e){const o=JSON.stringify({...e,version:6});return fetch("http://127.0.0.1:8765",{method:"POST",body:o})}({action:e.AddNote,params:t(o)})}!function(e){e.AddNote="addNote"}(e||(e={})),function(e){e[e.addNote=0]="addNote",e[e.addNoteResponse=1]="addNoteResponse"}(o||(o={})),chrome.runtime.onMessage.addListener((async function(e){switch(e.type){case o.addNote:{const t=await n(e.payload),a=await t.json();let c="Note added";null!==a.error&&(c=a.error,console.error(a.error)),chrome.notifications.create("",{message:c,iconUrl:"images/logo.png",title:"Wiktionary ++",type:"basic"}),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){const[t]=e;if(void 0===t)return;const n=t.id;void 0!==n&&chrome.tabs.sendMessage(n,{type:o.addNoteResponse,payload:a})}));break}}}))})();
//# sourceMappingURL=eventListener.js.map
